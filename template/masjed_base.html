{% load static %}
<!DOCTYPE html>
<html lang="en" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}
    {% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="{% static 'assets/img/emam_sajad_logo.jpg' %}">

    <link href="{% static 'assets/bootstrap-5.2.3-dist/css/bootstrap.rtl.min.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'assets/main.css' %}">
    <!-- Fontawesome & Bootstrap Icons CSS -->
    <link href="{% static 'assets/css/bootstrap-icons.css' %}" rel="stylesheet">
    <link href="{% static 'assets/css/fontawesome.css' %}" rel="stylesheet">
    <!-- neshan cdn -->
    <link rel="stylesheet" href="https://static.neshan.org/sdk/leaflet/v1.9.4/neshan-sdk/v1.0.8/index.css"/>
    <script src="https://static.neshan.org/sdk/leaflet/v1.9.4/neshan-sdk/v1.0.8/index.js"></script>
</head>
<body class="{% block body-class %}{% endblock %}"
>
<nav class="navbar navbar-expand-lg px-1 custom-navbar">
    <div class="container-fluid d-flex align-items-center justify-content-between flex-nowrap py-2">

        <!-- ููฺฏู ู ูุงู ุณุงุช -->
        <div class="d-flex align-items-center flex-shrink-1" style="min-width: 0;">
            <img src="{% static 'assets/img/emam_sajad_logo.jpg' %}" class="navbar-logo " alt="logo">
            <span class="navbar-brand mb-0 site-name text-white ">ูุณุฌุฏ ุฌุงูุน ุงูุงู ุณุฌุงุฏ(ุน)</span>
        </div>

        <!-- ุฏฺฉูู ุซุจุชโูุงู ู ูุดุงู -->
        <div class="position-relative flex-shrink-0">
            <a href="#" class="btn btn-outline-light rounded-pill px-1 py-1 signup-btn">ุซุจุชโูุงู / ูุฑูุฏ</a>
            <span class="badge bg-warning text-dark position-absolute top-0 start-100 translate-middle badge-on-button">ุจูโุฒูุฏ</span>
        </div>

    </div>
</nav>
<!-- ุณุงุฏุจุงุฑ -->
<div class="sidebar" id="sidebar">
    <button class="close-sidebar-btn" id="closeSidebarBtn">&times;</button>
    <h5 class="mb-4 text-danger text-center">ุขุฑุดู ูุฑุงุณูุงุช</h5>
    {% for category in categorys %}
        <div class="text-center mb-4">
            <a href="{% url 'website:occasion_years' category_slug=category.slug %}" class="text-decoration-none">
                <img src="{{ category.image.url }}" class="sidebar-img mb-2" alt="ูุญุฑู">
                <p class="text-white small mb-0">{{ category.name }}</p>
            </a>
        </div>
    {% endfor %}
</div>
{% block content %}
    <!-- ูุงู ุชุงุฑ ูพุณโุฒููู ุจุฑุง ุจุณุชู ุณุงุฏุจุงุฑ -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
{% endblock %}
<!-- Footer -->
<footer class="footer skin-dark-footer">
    <div class="container-fluid">
        <div class="row">
            <div class="col-6 justify-content-center">
                <div class="m-3">
                    <p class="text-white pt-3">ุขุฏุฑุณ:</p>
                    <p class="text-white mt-2">ุฎุงุจุงู ุงุดุฑู ุงุตููุงู ุงุณฺฉูุฏุฑุฒุงุฏู ูุจุด ุจูุณุชุงู ุตุจุง</p>
                    <p class="text-white ">ุดุจฺฉู ุงุฌุชูุงุน:</p>
                    <a class="btn btn-soft-light btn-xs btn-icon mt-2" href="
                                https://eitaa.com/mje_sajad"><img
                            src="{% static 'assets/sosial media icon/2lSfJCPqMllhHI88YFFavvqI7Of.svg' %}"
                            alt="Eitaa logo" style="width: 30px; height: 30px;"></img></a>
                </div>
            </div>
            <div class="col-6 justify-content-center">
                <di class="m-3">
                    <div class="my-3 text-center rounded-3" id="map" style="width: 100%; height: 200px;"></div>
                </di>
            </div>
        </div>
    </div>

    <div class="footer-bottom border-top">
        <div class="container text-center py-2">
            {#            <p class="text-white mb-1">#}
            {#                ุทุฑุงุญ ู ูพุดุชุจุงู:#}
            {#                <a href="https://kodomjaa.ir" target="_blank" class="text-warning text-decoration-none">๐น ุณุงูุงูู ุฑุฒุฑู#}
            {#                    ฺฉุฏูุฌุง</a> |#}
            {#                <a href="https://soleymoon.ir" target="_blank" class="text-info text-decoration-none">๐ธ ุณูููู - ุทุฑุงุญ#}
            {#                    ุณุงุช</a>#}
            {#            </p>#}
            <p class="text-white mb-0">
                โ ฺฉูู ุญููู ุจุฑุง ูุณุฌุฏ ุฌุงูุน ุงูุงู ุณุฌุงุฏ (ุน) ูุญููุธ ุงุณุช.
            </p>
        </div>
    </div>
</footer>

<!-- neshan scrypt   -->
<script>
    // ุชุงุจุน ุนููู ุจุฑุง ุงุฌุงุฏ ููุดู
    function createMap(mapId, center, zoom, markerPosition, popupContent) {
        // ุงุฌุงุฏ ููุดู
        const map = new L.Map(mapId, {
            key: "web.f790ce90cd3f465caf3a71a6919b8c8d", // ฺฉูุฏ API ุฎูุฏ ุฑุง ุฌุงฺฏุฒู ฺฉูุฏ
            maptype: "neshan",
            poi: true,
            traffic: true,
            center: center,
            zoom: zoom,
        });

        // ุงูุฒูุฏู ูุงุฑฺฉุฑ
        let marker = L.marker(markerPosition).addTo(map);

        // ุงูุฒูุฏู ูพุงูพโุขูพ
        marker.bindPopup(popupContent).openPopup();

        return map;
    }

    // ุงุฌุงุฏ ููุดู ุงูู (map)
    createMap(
        'map', // ID ุงููุงู
        [35.728654, 51.333647], // ูุฎุชุตุงุช ูุฑฺฉุฒ
        14, // ุณุทุญ ุฒูู
        [35.728654, 51.333647], // ูููุนุช ูุงุฑฺฉุฑ
        `<p class="text-center">ูุณุฌุฏ ุงูุงู ุณุฌุงุฏ(ุน)</p>` // ูุญุชูุง ูพุงูพโุขูพ
    );
</script>
{# ุงุณฺฉุฑูพุช ุจุฑุง ุจุงุฒ ู ุจุณุชู ุดุฏู ุณุงุฏ ุจุงุฑ#}
<script>
    const openBtn = document.getElementById('openSidebarBtn');
    const sidebar = document.getElementById('sidebar');
    const closeBtn = document.getElementById('closeSidebarBtn');
    const overlay = document.getElementById('sidebarOverlay');

    openBtn.addEventListener('click', () => {
        sidebar.classList.add('show');
        overlay.style.display = 'block';
    });

    closeBtn.addEventListener('click', closeSidebar);
    overlay.addEventListener('click', closeSidebar);

    function closeSidebar() {
        sidebar.classList.remove('show');
        overlay.style.display = 'none';
    }
</script>

<script src="{% static 'assets/bootstrap-5.2.3-dist/js/bootstrap.min.js' %}"></script>
</body>
</html>